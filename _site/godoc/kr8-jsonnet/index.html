<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Iceberg Tech" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>kr8-jsonnet - kr8+ Docs</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "kr8-jsonnet";
        var mkdocs_page_input_path = "godoc/kr8-jsonnet.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> kr8+ Docs
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../README-repo/">Repo Readme</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../installation/">Installation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="" href="https://github.com/ice-bergtech/kr8-examples">Examples ðŸ”—</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Concepts</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../concepts/overview/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../concepts/clusters/">Clusters</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../concepts/components/">Components</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../concepts/nativefuncs/">Native Funcs</a>
                  </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../helpers/">Helpers</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Cmd Docs</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../cmd/kr8/">kr8</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cmd/kr8_version/">kr8p version</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cmd/kr8_generate/">kr8p generate</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cmd/kr8_format/">kr8p format</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >kr8p get</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../cmd/kr8_get/">kr8p get</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../cmd/kr8_get_clusters/">kr8p get clusters</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../cmd/kr8_get_components/">kr8p get components</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../cmd/kr8_get_params/">kr8p get params</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >kr8p init</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../cmd/kr8_init/">kr8p init</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../cmd/kr8_init_cluster/">kr8p init cluster</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../cmd/kr8_init_component/">kr8p init component</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../cmd/kr8_init_repo/">kr8p init repo</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >kr8p jsonnet</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../cmd/kr8_jsonnet/">kr8p jsonnet</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../cmd/kr8_jsonnet_render/">kr8p jsonnet render</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >kr8p render</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../cmd/kr8_render/">kr8p render</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../cmd/kr8_render_helm/">kr8p render helm</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../cmd/kr8_render_jsonnet/">kr8p render jsonnet</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Godocs</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../kr8-cmd/">kr8-cmd</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../kr8-generate/">kr8-generate</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../kr8-init/">kr8-init</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">kr8-jsonnet</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#index">Index</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#func-jsonnetrender">func JsonnetRender</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#func-jsonnetrenderclusterparams">func JsonnetRenderClusterParams</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#func-jsonnetrenderclusterparamsonly">func JsonnetRenderClusterParamsOnly</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#func-jsonnetrenderfiles">func JsonnetRenderFiles</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#func-jsonnetvm">func JsonnetVM</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#func-mergecomponentdefaults">func MergeComponentDefaults</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#func-nativehelmtemplate">func NativeHelmTemplate</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#func-nativehelp">func NativeHelp</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#func-nativekompose">func NativeKompose</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#func-nativenetaddressarpa">func NativeNetAddressARPA</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#func-nativenetaddressbinary">func NativeNetAddressBinary</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#func-nativenetaddresscalcsubnetsv4">func NativeNetAddressCalcSubnetsV4</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#func-nativenetaddresscalcsubnetsv6">func NativeNetAddressCalcSubnetsV6</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#func-nativenetaddresscompare">func NativeNetAddressCompare</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#func-nativenetaddressdec">func NativeNetAddressDec</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#func-nativenetaddressdecby">func NativeNetAddressDecBy</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#func-nativenetaddressdelta">func NativeNetAddressDelta</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#func-nativenetaddresshex">func NativeNetAddressHex</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#func-nativenetaddressinc">func NativeNetAddressInc</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#func-nativenetaddressincby">func NativeNetAddressIncBy</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#func-nativenetaddressnetsbetween">func NativeNetAddressNetsBetween</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#func-nativenetaddresssort">func NativeNetAddressSort</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#func-nativenetipinfo">func NativeNetIPInfo</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#func-nativeneturl">func NativeNetUrl</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#func-nativeregexescape">func NativeRegexEscape</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#func-nativeregexmatch">func NativeRegexMatch</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#func-nativeregexsubst">func NativeRegexSubst</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#func-nativesprigtemplate">func NativeSprigTemplate</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#func-registernativefuncs">func RegisterNativeFuncs</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#type-ipv4">type IPV4</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#func-ipv4info">func IPV4Info</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#type-ipv6">type IPV6</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#func-ipv6info">func IPV6Info</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#type-nativefuncurl">type NativeFuncURL</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../kr8-types/">kr8-types</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../kr8-util/">kr8-util</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">kr8+ Docs</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Godocs</li>
      <li class="breadcrumb-item active">kr8-jsonnet</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/ice-bergtech/kr8/blob/main/docs/godoc/kr8-jsonnet.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="jnetvm">jnetvm</h1>
<pre><code class="language-go">import &quot;github.com/ice-bergtech/kr8/pkg/jnetvm&quot;
</code></pre>
<p>Package jvm contains the jsonnet rendering logic.</p>
<h2 id="index">Index</h2>
<ul>
<li><a href="#JsonnetRender">func JsonnetRender(cmdFlagsJsonnet types.CmdJsonnetOptions, filename string, vmConfig types.VMConfig) error</a></li>
<li><a href="#JsonnetRenderClusterParams">func JsonnetRenderClusterParams(vmconfig types.VMConfig, clusterName string, componentNames []string, clusterParams string, prune bool) (string, error)</a></li>
<li><a href="#JsonnetRenderClusterParamsOnly">func JsonnetRenderClusterParamsOnly(vmconfig types.VMConfig, clusterName string, clusterParams string, prune bool) (string, error)</a></li>
<li><a href="#JsonnetRenderFiles">func JsonnetRenderFiles(vmConfig types.VMConfig, files []string, param string, prune bool, prepend string, source string) (string, error)</a></li>
<li><a href="#JsonnetVM">func JsonnetVM(vmconfig types.VMConfig) (*jsonnet.VM, error)</a></li>
<li><a href="#MergeComponentDefaults">func MergeComponentDefaults(componentMap map[string]types.Kr8ClusterComponentRef, componentNames []string, vmconfig types.VMConfig) (string, error)</a></li>
<li><a href="#NativeHelmTemplate">func NativeHelmTemplate() *jsonnet.NativeFunction</a></li>
<li><a href="#NativeHelp">func NativeHelp(allFuncs []*jsonnet.NativeFunction) *jsonnet.NativeFunction</a></li>
<li><a href="#NativeKompose">func NativeKompose() *jsonnet.NativeFunction</a></li>
<li><a href="#NativeNetAddressARPA">func NativeNetAddressARPA() *jsonnet.NativeFunction</a></li>
<li><a href="#NativeNetAddressBinary">func NativeNetAddressBinary() *jsonnet.NativeFunction</a></li>
<li><a href="#NativeNetAddressCalcSubnetsV4">func NativeNetAddressCalcSubnetsV4() *jsonnet.NativeFunction</a></li>
<li><a href="#NativeNetAddressCalcSubnetsV6">func NativeNetAddressCalcSubnetsV6() *jsonnet.NativeFunction</a></li>
<li><a href="#NativeNetAddressCompare">func NativeNetAddressCompare() *jsonnet.NativeFunction</a></li>
<li><a href="#NativeNetAddressDec">func NativeNetAddressDec() *jsonnet.NativeFunction</a></li>
<li><a href="#NativeNetAddressDecBy">func NativeNetAddressDecBy() *jsonnet.NativeFunction</a></li>
<li><a href="#NativeNetAddressDelta">func NativeNetAddressDelta() *jsonnet.NativeFunction</a></li>
<li><a href="#NativeNetAddressHex">func NativeNetAddressHex() *jsonnet.NativeFunction</a></li>
<li><a href="#NativeNetAddressInc">func NativeNetAddressInc() *jsonnet.NativeFunction</a></li>
<li><a href="#NativeNetAddressIncBy">func NativeNetAddressIncBy() *jsonnet.NativeFunction</a></li>
<li><a href="#NativeNetAddressNetsBetween">func NativeNetAddressNetsBetween() *jsonnet.NativeFunction</a></li>
<li><a href="#NativeNetAddressSort">func NativeNetAddressSort() *jsonnet.NativeFunction</a></li>
<li><a href="#NativeNetIPInfo">func NativeNetIPInfo() *jsonnet.NativeFunction</a></li>
<li><a href="#NativeNetUrl">func NativeNetUrl() *jsonnet.NativeFunction</a></li>
<li><a href="#NativeRegexEscape">func NativeRegexEscape() *jsonnet.NativeFunction</a></li>
<li><a href="#NativeRegexMatch">func NativeRegexMatch() *jsonnet.NativeFunction</a></li>
<li><a href="#NativeRegexSubst">func NativeRegexSubst() *jsonnet.NativeFunction</a></li>
<li><a href="#NativeSprigTemplate">func NativeSprigTemplate() *jsonnet.NativeFunction</a></li>
<li><a href="#RegisterNativeFuncs">func RegisterNativeFuncs(jvm *jsonnet.VM)</a></li>
<li><a href="#IPV4">type IPV4</a></li>
<li><a href="#IPV4Info">func IPV4Info(rawIP string) (*IPV4, error)</a></li>
<li><a href="#IPV6">type IPV6</a></li>
<li><a href="#IPV6Info">func IPV6Info(rawIP string) (*IPV6, error)</a></li>
<li><a href="#NativeFuncURL">type NativeFuncURL</a></li>
</ul>
<p><a name="JsonnetRender"></a></p>
<h2 id="func-jsonnetrender">func <a href="https://github.com/ice-bergtech/kr8/blob/main/pkg/jnetvm/jsonnet.go#L122">JsonnetRender</a></h2>
<pre><code class="language-go">func JsonnetRender(cmdFlagsJsonnet types.CmdJsonnetOptions, filename string, vmConfig types.VMConfig) error
</code></pre>
<p>Renders a jsonnet file with the specified options.</p>
<p><a name="JsonnetRenderClusterParams"></a></p>
<h2 id="func-jsonnetrenderclusterparams">func <a href="https://github.com/ice-bergtech/kr8/blob/main/pkg/jnetvm/jsonnet.go#L195-L201">JsonnetRenderClusterParams</a></h2>
<pre><code class="language-go">func JsonnetRenderClusterParams(vmconfig types.VMConfig, clusterName string, componentNames []string, clusterParams string, prune bool) (string, error)
</code></pre>
<p>Render cluster params, merged with one or more component's parameters. Empty componentName list renders all component parameters.</p>
<p><a name="JsonnetRenderClusterParamsOnly"></a></p>
<h2 id="func-jsonnetrenderclusterparamsonly">func <a href="https://github.com/ice-bergtech/kr8/blob/main/pkg/jnetvm/jsonnet.go#L172-L177">JsonnetRenderClusterParamsOnly</a></h2>
<pre><code class="language-go">func JsonnetRenderClusterParamsOnly(vmconfig types.VMConfig, clusterName string, clusterParams string, prune bool) (string, error)
</code></pre>
<p>Only render cluster params (_cluster), without components.</p>
<p><a name="JsonnetRenderFiles"></a></p>
<h2 id="func-jsonnetrenderfiles">func <a href="https://github.com/ice-bergtech/kr8/blob/main/pkg/jnetvm/jsonnet.go#L73-L80">JsonnetRenderFiles</a></h2>
<pre><code class="language-go">func JsonnetRenderFiles(vmConfig types.VMConfig, files []string, param string, prune bool, prepend string, source string) (string, error)
</code></pre>
<p>Takes a list of jsonnet files and imports each one. Formats the string for jsonnet using "+".</p>
<p><a name="JsonnetVM"></a></p>
<h2 id="func-jsonnetvm">func <a href="https://github.com/ice-bergtech/kr8/blob/main/pkg/jnetvm/jsonnet.go#L41">JsonnetVM</a></h2>
<pre><code class="language-go">func JsonnetVM(vmconfig types.VMConfig) (*jsonnet.VM, error)
</code></pre>
<p>Create a Jsonnet VM to run commands in.</p>
<p><a name="MergeComponentDefaults"></a></p>
<h2 id="func-mergecomponentdefaults">func <a href="https://github.com/ice-bergtech/kr8/blob/main/pkg/jnetvm/jsonnet.go#L240-L244">MergeComponentDefaults</a></h2>
<pre><code class="language-go">func MergeComponentDefaults(componentMap map[string]types.Kr8ClusterComponentRef, componentNames []string, vmconfig types.VMConfig) (string, error)
</code></pre>
<p><a name="NativeHelmTemplate"></a></p>
<h2 id="func-nativehelmtemplate">func <a href="https://github.com/ice-bergtech/kr8/blob/main/pkg/jnetvm/native_funcs.go#L97">NativeHelmTemplate</a></h2>
<pre><code class="language-go">func NativeHelmTemplate() *jsonnet.NativeFunction
</code></pre>
<p>Allows executing helm template to process a helm chart and make available to kr8p configuration.</p>
<p>Source: https://github.com/grafana/tanka/blob/v0.27.1/pkg/helm/template.go#L23</p>
<p><a name="NativeHelp"></a></p>
<h2 id="func-nativehelp">func <a href="https://github.com/ice-bergtech/kr8/blob/main/pkg/jnetvm/native_funcs.go#L64">NativeHelp</a></h2>
<pre><code class="language-go">func NativeHelp(allFuncs []*jsonnet.NativeFunction) *jsonnet.NativeFunction
</code></pre>
<p><a name="NativeKompose"></a></p>
<h2 id="func-nativekompose">func <a href="https://github.com/ice-bergtech/kr8/blob/main/pkg/jnetvm/native_funcs.go#L144">NativeKompose</a></h2>
<pre><code class="language-go">func NativeKompose() *jsonnet.NativeFunction
</code></pre>
<p>Allows converting a docker-compose file string into kubernetes resources using kompose. Files in the directory must be in the format `[docker-]compose.ym[a]l`.</p>
<p>Source: https://github.com/kubernetes/kompose/blob/main/cmd/convert.go</p>
<p>Inputs: `inFile`, `outPath`, `opts`.</p>
<p><a name="NativeNetAddressARPA"></a></p>
<h2 id="func-nativenetaddressarpa">func <a href="https://github.com/ice-bergtech/kr8/blob/main/pkg/jnetvm/native_funcs_net.go#L399">NativeNetAddressARPA</a></h2>
<pre><code class="language-go">func NativeNetAddressARPA() *jsonnet.NativeFunction
</code></pre>
<p>Convert address to addr.APRA DNS name.</p>
<p>Inputs: "rawIP".</p>
<p><a name="NativeNetAddressBinary"></a></p>
<h2 id="func-nativenetaddressbinary">func <a href="https://github.com/ice-bergtech/kr8/blob/main/pkg/jnetvm/native_funcs_net.go#L443">NativeNetAddressBinary</a></h2>
<pre><code class="language-go">func NativeNetAddressBinary() *jsonnet.NativeFunction
</code></pre>
<p>Return binary string representation of address. This is the default stringer format for v6 net.IP.</p>
<p>Inputs: "rawIP".</p>
<p><a name="NativeNetAddressCalcSubnetsV4"></a></p>
<h2 id="func-nativenetaddresscalcsubnetsv4">func <a href="https://github.com/ice-bergtech/kr8/blob/main/pkg/jnetvm/native_funcs_net.go#L510">NativeNetAddressCalcSubnetsV4</a></h2>
<pre><code class="language-go">func NativeNetAddressCalcSubnetsV4() *jsonnet.NativeFunction
</code></pre>
<p>Return a list of networks of a given masklen that can be extracted from an IPv4 CIDR. The mask provided must be a larger-integer than the current mask. If set to 0 Subnet will carve the network in half.</p>
<p>Inputs: "ip4Net", "maskLen".</p>
<p><a name="NativeNetAddressCalcSubnetsV6"></a></p>
<h2 id="func-nativenetaddresscalcsubnetsv6">func <a href="https://github.com/ice-bergtech/kr8/blob/main/pkg/jnetvm/native_funcs_net.go#L543">NativeNetAddressCalcSubnetsV6</a></h2>
<pre><code class="language-go">func NativeNetAddressCalcSubnetsV6() *jsonnet.NativeFunction
</code></pre>
<p>Return a list of networks of a given masklen that can be extracted from an IPv6 CIDR. The mask provided must be a larger-integer than the current mask. If set to 0 Subnet will carve the network in half. Hostmask must be provided if desired.</p>
<p>Inputs: "ip6Net", "netMaskLen", "hostMaskLen".</p>
<p><a name="NativeNetAddressCompare"></a></p>
<h2 id="func-nativenetaddresscompare">func <a href="https://github.com/ice-bergtech/kr8/blob/main/pkg/jnetvm/native_funcs_net.go#L196">NativeNetAddressCompare</a></h2>
<pre><code class="language-go">func NativeNetAddressCompare() *jsonnet.NativeFunction
</code></pre>
<p>Compare two addresses.</p>
<p>0 if a==b, -1 if a\&lt;b, 1 if a&gt;b.</p>
<p><a name="NativeNetAddressDec"></a></p>
<h2 id="func-nativenetaddressdec">func <a href="https://github.com/ice-bergtech/kr8/blob/main/pkg/jnetvm/native_funcs_net.go#L348">NativeNetAddressDec</a></h2>
<pre><code class="language-go">func NativeNetAddressDec() *jsonnet.NativeFunction
</code></pre>
<p>PreviousIP returns a net.IP decremented by one from the input address. If you underflow the IP space it will return the zero address.</p>
<p>Inputs: "rawIP".</p>
<p><a name="NativeNetAddressDecBy"></a></p>
<h2 id="func-nativenetaddressdecby">func <a href="https://github.com/ice-bergtech/kr8/blob/main/pkg/jnetvm/native_funcs_net.go#L370">NativeNetAddressDecBy</a></h2>
<pre><code class="language-go">func NativeNetAddressDecBy() *jsonnet.NativeFunction
</code></pre>
<p>Returns a net.IP that is lower than the supplied net.IP by the supplied integer value. If you underflow the IP space it will return the zero address.</p>
<p>Inputs: "rawIP", "count".</p>
<p><a name="NativeNetAddressDelta"></a></p>
<h2 id="func-nativenetaddressdelta">func <a href="https://github.com/ice-bergtech/kr8/blob/main/pkg/jnetvm/native_funcs_net.go#L228">NativeNetAddressDelta</a></h2>
<pre><code class="language-go">func NativeNetAddressDelta() *jsonnet.NativeFunction
</code></pre>
<p>Gets the delta of two addresses. Takes two net.IP's as input and returns the difference between them up to the limit of uint32.</p>
<p>Inputs: "rawIP, "otherIP".</p>
<p><a name="NativeNetAddressHex"></a></p>
<h2 id="func-nativenetaddresshex">func <a href="https://github.com/ice-bergtech/kr8/blob/main/pkg/jnetvm/native_funcs_net.go#L421">NativeNetAddressHex</a></h2>
<pre><code class="language-go">func NativeNetAddressHex() *jsonnet.NativeFunction
</code></pre>
<p>Return hex representation of address. This is the default stringer format for v6 net.IP.</p>
<p>Inputs: "rawIP".</p>
<p><a name="NativeNetAddressInc"></a></p>
<h2 id="func-nativenetaddressinc">func <a href="https://github.com/ice-bergtech/kr8/blob/main/pkg/jnetvm/native_funcs_net.go#L296">NativeNetAddressInc</a></h2>
<pre><code class="language-go">func NativeNetAddressInc() *jsonnet.NativeFunction
</code></pre>
<p>NextIP returns a net.IP incremented by one from the input address. If you overflow the IP space it will return the all-ones address.</p>
<p>Inputs: "rawIP".</p>
<p><a name="NativeNetAddressIncBy"></a></p>
<h2 id="func-nativenetaddressincby">func <a href="https://github.com/ice-bergtech/kr8/blob/main/pkg/jnetvm/native_funcs_net.go#L318">NativeNetAddressIncBy</a></h2>
<pre><code class="language-go">func NativeNetAddressIncBy() *jsonnet.NativeFunction
</code></pre>
<p>Returns a net.IP that is greater than the supplied net.IP by the supplied integer value. If you overflow the IP space it will return the all-ones address.</p>
<p>Inputs: "rawIP", "count".</p>
<p><a name="NativeNetAddressNetsBetween"></a></p>
<h2 id="func-nativenetaddressnetsbetween">func <a href="https://github.com/ice-bergtech/kr8/blob/main/pkg/jnetvm/native_funcs_net.go#L465">NativeNetAddressNetsBetween</a></h2>
<pre><code class="language-go">func NativeNetAddressNetsBetween() *jsonnet.NativeFunction
</code></pre>
<p>Returns a slice of netblocks spanning the range between the two networks, inclusively. Returns single-address netblocks if required.</p>
<p>Inputs: "ipNet", "otherIPNet".</p>
<p><a name="NativeNetAddressSort"></a></p>
<h2 id="func-nativenetaddresssort">func <a href="https://github.com/ice-bergtech/kr8/blob/main/pkg/jnetvm/native_funcs_net.go#L259">NativeNetAddressSort</a></h2>
<pre><code class="language-go">func NativeNetAddressSort() *jsonnet.NativeFunction
</code></pre>
<p>Sort list of ip addresses.</p>
<p>Inputs: "listIPs".</p>
<p><a name="NativeNetIPInfo"></a></p>
<h2 id="func-nativenetipinfo">func <a href="https://github.com/ice-bergtech/kr8/blob/main/pkg/jnetvm/native_funcs_net.go#L170">NativeNetIPInfo</a></h2>
<pre><code class="language-go">func NativeNetIPInfo() *jsonnet.NativeFunction
</code></pre>
<p>net.IP tools. https://github.com/c-robinson/iplib .</p>
<p>Inputs: "rawIP".</p>
<p><a name="NativeNetUrl"></a></p>
<h2 id="func-nativeneturl">func <a href="https://github.com/ice-bergtech/kr8/blob/main/pkg/jnetvm/native_funcs_net.go#L48">NativeNetUrl</a></h2>
<pre><code class="language-go">func NativeNetUrl() *jsonnet.NativeFunction
</code></pre>
<p>Decode URL information from a string. Based on https://github.com/lintnet/go-jsonnet-native-functions/blob/main/pkg/net/url/url.go .</p>
<p>Inputs: "rawURL".</p>
<p><a name="NativeRegexEscape"></a></p>
<h2 id="func-nativeregexescape">func <a href="https://github.com/ice-bergtech/kr8/blob/main/pkg/jnetvm/native_funcs_regex.go#L34">NativeRegexEscape</a></h2>
<pre><code class="language-go">func NativeRegexEscape() *jsonnet.NativeFunction
</code></pre>
<p>Escapes a string for use in regex.</p>
<p>Inputs: "str".</p>
<p><a name="NativeRegexMatch"></a></p>
<h2 id="func-nativeregexmatch">func <a href="https://github.com/ice-bergtech/kr8/blob/main/pkg/jnetvm/native_funcs_regex.go#L46">NativeRegexMatch</a></h2>
<pre><code class="language-go">func NativeRegexMatch() *jsonnet.NativeFunction
</code></pre>
<p>Matches a string against a regex pattern.</p>
<p>Inputs: "regex", "string".</p>
<p><a name="NativeRegexSubst"></a></p>
<h2 id="func-nativeregexsubst">func <a href="https://github.com/ice-bergtech/kr8/blob/main/pkg/jnetvm/native_funcs_regex.go#L58">NativeRegexSubst</a></h2>
<pre><code class="language-go">func NativeRegexSubst() *jsonnet.NativeFunction
</code></pre>
<p>Substitutes a regex pattern in a string with another string.</p>
<p>Inputs: "regex", "src", "repl".</p>
<p><a name="NativeSprigTemplate"></a></p>
<h2 id="func-nativesprigtemplate">func <a href="https://github.com/ice-bergtech/kr8/blob/main/pkg/jnetvm/native_funcs.go#L105">NativeSprigTemplate</a></h2>
<pre><code class="language-go">func NativeSprigTemplate() *jsonnet.NativeFunction
</code></pre>
<p>Uses sprig to process passed in config data and template. Sprig template guide: https://masterminds.github.io/sprig/ .</p>
<p>Inputs: "config" "templateStr".</p>
<p><a name="RegisterNativeFuncs"></a></p>
<h2 id="func-registernativefuncs">func <a href="https://github.com/ice-bergtech/kr8/blob/main/pkg/jnetvm/native_funcs.go#L24">RegisterNativeFuncs</a></h2>
<pre><code class="language-go">func RegisterNativeFuncs(jvm *jsonnet.VM)
</code></pre>
<p>Registers additional native functions in the jsonnet VM. These functions are used to extend the functionality of jsonnet. Adds on to functions part of the jsonnet stdlib: https://jsonnet.org/ref/stdlib.html</p>
<p><a name="IPV4"></a></p>
<h2 id="type-ipv4">type <a href="https://github.com/ice-bergtech/kr8/blob/main/pkg/jnetvm/native_funcs_net.go#L96-L104">IPV4</a></h2>
<pre><code class="language-go">type IPV4 struct {
    IP           string
    Mask         int
    CIDR         string
    Count        uint32
    FirstAddress string
    LastAddress  string
    Broadcast    string
}
</code></pre>
<p><a name="IPV4Info"></a></p>
<h3 id="func-ipv4info">func <a href="https://github.com/ice-bergtech/kr8/blob/main/pkg/jnetvm/native_funcs_net.go#L141">IPV4Info</a></h3>
<pre><code class="language-go">func IPV4Info(rawIP string) (*IPV4, error)
</code></pre>
<p><a name="IPV6"></a></p>
<h2 id="type-ipv6">type <a href="https://github.com/ice-bergtech/kr8/blob/main/pkg/jnetvm/native_funcs_net.go#L106-L114">IPV6</a></h2>
<pre><code class="language-go">type IPV6 struct {
    IP           string
    NetMask      string
    HostMask     string
    CIDR         string
    Count        uint128.Uint128
    FirstAddress string
    LastAddress  string
}
</code></pre>
<p><a name="IPV6Info"></a></p>
<h3 id="func-ipv6info">func <a href="https://github.com/ice-bergtech/kr8/blob/main/pkg/jnetvm/native_funcs_net.go#L116">IPV6Info</a></h3>
<pre><code class="language-go">func IPV6Info(rawIP string) (*IPV6, error)
</code></pre>
<p><a name="NativeFuncURL"></a></p>
<h2 id="type-nativefuncurl">type <a href="https://github.com/ice-bergtech/kr8/blob/main/pkg/jnetvm/native_funcs_net.go#L18-L42">NativeFuncURL</a></h2>
<p>Contains the url information.</p>
<pre><code class="language-go">type NativeFuncURL struct {
    Scheme string
    // encoded opaque data
    Opaque string
    // username information
    Username string
    // Whether the password field is set
    PasswordSet bool
    // password information
    Password string
    // host or host:port (see Hostname and Port methods)
    Host string
    // path (relative paths may omit leading slash)
    Path string
    // encoded path hint (see EscapedPath method)
    RawPath string
    // query values
    Query map[string]interface{}
    // encoded query values, without '?'
    RawQuery string
    // fragment for references, without '#'
    Fragment string
    // encoded fragment hint (see EscapedFragment method)
    RawFragment string
}
</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../kr8-init/" class="btn btn-neutral float-left" title="kr8-init"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../kr8-types/" class="btn btn-neutral float-right" title="kr8-types">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/ice-bergtech/kr8/" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../kr8-init/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../kr8-types/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
