{
  "$schema": "https://json-schema.org/draft/2019-09/schema",
  "$id": "https://github.com/ice-bergtech/kr8/pkg/kr8_types/kr8-cluster-jsonnet",
  "$ref": "#/$defs/Kr8ClusterJsonnet",
  "$defs": {
    "Kr8Cluster": {
      "properties": {},
      "type": "object"
    },
    "Kr8ClusterComponentRef": {
      "properties": {
        "path": {
          "type": "string",
          "examples": [
            "components/service"
          ]
        }
      },
      "type": "object",
      "required": [
        "path"
      ]
    },
    "Kr8ClusterJsonnet": {
      "properties": {
        "_kr8_spec": {
          "$ref": "#/$defs/Kr8ClusterSpec"
        },
        "_cluster": {
          "$ref": "#/$defs/Kr8Cluster"
        },
        "_components": {
          "additionalProperties": {
            "$ref": "#/$defs/Kr8ClusterComponentRef"
          },
          "type": "object"
        }
      },
      "type": "object",
      "required": [
        "_kr8_spec",
        "_cluster",
        "_components"
      ]
    },
    "Kr8ClusterSpec": {
      "properties": {
        "postprocessor": {
          "type": "string",
          "default": "function(input) input"
        },
        "generate_dir": {
          "type": "string",
          "default": "generated"
        },
        "generate_short_names": {
          "type": "boolean",
          "default": false
        },
        "prune_params": {
          "type": "boolean",
          "default": false
        },
        "cache_enable": {
          "type": "boolean",
          "default": false
        },
        "cache_compress": {
          "type": "boolean",
          "default": true
        }
      },
      "type": "object"
    }
  }
}
